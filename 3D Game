javascript:void%20function(){%22use%20strict%22;function%20e(e,t){c.drawImage(d,50*e,51*t,50,51,a.width/2-50,a.height/2-51,100,102)}function%20t(e,t,n,i,o,r,a,d,c,p){var%20s=document.createElement(e);%22div%22==e%3Fs.style=%22position:absolute;background:red;width:%22+a+%22px;height:%22+d+%22px%22:%22img%22==e%26%26(s.src=p,s.style=%22position:absolute;width:%22+a+%22px;height:%22+d+%22px%22),c%26%26(s.style.backfaceVisibility=%22hidden%22),document.body.appendChild(s),y.push([s,t,n,i,o,r,a,d])}function%20n(){m().then(function(e){return%20w=Math.round(e)}),document.body.style=%22background:linear-gradient(%2366b8ff,%23ffffff,%23ffffff,%23ffffff);overflow:visible%20!important%22,document.body.style.transformStyle=%22preserve-3d%22,document.body.style.transform=%22perspective(%22+l.fov+%22px)%20rotateX(%22+(f.rX+l.rX)+%22deg)%20translate3D(%22+-f.x+%22px,%22+f.z+%22px,%22+-f.y+%22px)%20rotateY(%22+l.rY+%22deg)%20rotateZ(%22+-f.rY+%22deg)%22,g.innerHTML=%22made%20by%20gerland.%20fps:%22+w+%22%20current%20frame:%20%22+p.frame,a.style.transform=%22translate3D(%22+s.x+%22px,%22+-s.z+%22px,%22+(s.y+50)+%22px)%20rotateX(-90deg)%22,f.z+=(s.z-700-f.z)/25,u.style.transform=%22translate3D(%22+(s.x+100)+%22px,%22+(-s.z+20)+%22px,0px)%22,y.forEach(function(e){e[0].style.transform=%22translate3D(%22+e[1]+%22px,%22+-e[3]+%22px,%22+(e[7]/2+e[2])+%22px)%20rotateX(%22+(-90+e[4])+%22deg)%20rotateY(%22+e[5]+%22deg)%22}),window.requestAnimationFrame(n)}function%20i(){h.left||h.right||h.down||h.down||h.up||(s.walking=!1),h.left%26%26(s.x-=5,p.dirc=2,s.walking=!0),h.right%26%26(s.x+=5,p.dirc=3,s.walking=!0),h.down%26%26(s.z-=5,p.dirc=0,s.walking=!0),h.up%26%26(s.z+=5,p.dirc=1,s.walking=!0),window.requestAnimationFrame(i)}function%20o(){c.clearRect(0,0,a.width,a.height),s.walking%3F(p.frameval+=1/7,p.frame=Math.floor(p.frameval%254),e(p.loop[p.frame],p.dirc)):(p.frame=0,e(p.frame,p.dirc)),window.requestAnimationFrame(o)}var%20r={tree:%22https://piskel-imgstore-b.appspot.com/img/b34dcb07-afbc-11ec-8d01-cf14772c2713.gif%22,wall:%22https://i.postimg.cc/ZRGFkfV2/cbimage.png%22,door:%22https://i.postimg.cc/Fs8vM04c/image.png%22,grass:%22https://i.postimg.cc/tR2smQxk/e-1.png%22,charph:%22https://i.postimg.cc/g2183jT5/image.png%22,plrshadow:%22https://cdn-icons-png.flaticon.com/512/0/14.png%22},a=document.createElement(%22canvas%22),d=new%20Image,c=a.getContext(%222d%22);a.style=%22position:fixed%22,document.body.appendChild(a),d.src=r.charph;var%20p={dirc:0,frame:0,frameval:0,loop:[0,1,0,2]},s={x:0,y:0,z:0,rX:0,rY:0,xv:0,yv:0,zv:0,walking:!1},f={x:0,y:0,z:0,rX:60,rY:0},l={fov:500,dist:0,rX:0,rY:0},h={left:!1,right:!1,down:!1,up:!1,space:!1},m=function(){return%20new%20Promise(function(e){return%20requestAnimationFrame(function(t){return%20requestAnimationFrame(function(n){return%20e(1e3/(n-t))})})})},w=0,g=document.createElement(%22div%22);g.innerHTML=%22e%22,g.style=%22background:rgba(0,0,0,0.25);color:white;left:10px;height:20px;bottom:0px;width:500px;position:fixed;z-index:1001;text-shadow:%200px%200px%202px%20%23000000,%200px%200px%202px%20%23000000,%200px%200px%202px%20%23000000,%200px%200px%202px%20%23000000,%200px%200px%203px%20%23000000;font-family:%20Arial,%20Helvetica,%20sans-serif;%22,document.body.parentNode.appendChild(g);var%20x=document.createElement(%22img%22);x.src=r.grass,x.style=%22left:50%25;top:95%25;transform:%20translate(-50%25,%20-95%25);position:fixed;z-index:-100000;width:1500px;height:5000px;overflow:visible%22,document.body.appendChild(x);var%20u=document.createElement(%22img%22);u.src=r.plrshadow,u.style=%22opacity:0.2;width:100px;height:100px%22,document.body.appendChild(u);var%20y=[];t(%22img%22,250,0,2e3,0,0,200,200,!1,r.tree),t(%22img%22,250,0,2e3,0,90,200,200,!1,r.tree),window.addEventListener(%22keydown%22,function(e){[%22Space%22,%22ArrowUp%22,%22ArrowDown%22,%22ArrowLeft%22,%22ArrowRight%22,%22KeyR%22].indexOf(e.code)%3E-1%26%26e.preventDefault(),%22KeyR%22==%22%22.concat(e.code)%26%26window.location.reload(!0)},!1),window.onkeydown=function(e){32==e.which%26%26(h.space=!0),37==e.which%26%26(h.left=!0),38==e.which%26%26(h.up=!0),39==e.which%26%26(h.right=!0),40==e.which%26%26(h.down=!0)},window.onkeyup=function(e){32==e.which%26%26(h.space=!1),37==e.which%26%26(h.left=!1),38==e.which%26%26(h.up=!1),39==e.which%26%26(h.right=!1),40==e.which%26%26(h.down=!1)},window.scrollTo(0,0),window.onscroll=function(){window.scrollTo(0,0)},o(),n(),i()}();
