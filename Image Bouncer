javascript:var entities = []; var canvas; var context; var HEIGHT = window.innerHeight, WIDTH = window.innerWidth, drawTimerId, logicTimerId; function getRandom(min, max){ return Math.random() * (max - min) + min; } function create(src, sty, spo){ var entity = { source : src, x : WIDTH / 2, y : HEIGHT / 2, speedX : getRandom(-15, 15), speedY : getRandom(-15, 15), style : sty, spot: spo }; entities.push(entity); } function destroy(){ clearInterval(drawTimerId); clearTimeout(logicTimerId); document.body.removeChild(canvas); for(var i = 0; i < entities.length; i++){ document.getElementsByTagName('img')[entities[i].spot].style.display = entities[i].style; } entities = []; } var temp, clearStringWidth; for(var i = 0; i < document.getElementsByTagName('img').length; i++){ temp = new Image; temp.src = document.getElementsByTagName('img')[i].src; if(temp.width >= 20 && temp.height >= 20){ create(temp, document.getElementsByTagName('img')[i].style.display, i); document.getElementsByTagName('img')[i].style.display = 'none'; } } canvas = document.createElement('canvas'); canvas.height = HEIGHT; canvas.width = WIDTH; canvas.style.zIndex = '10000'; canvas.style.position = 'fixed'; canvas.style.left = '0px'; canvas.style.top = '0px'; document.body.appendChild(canvas); context = canvas.getContext('2d'); context.font = '14pt Arial'; clearStringWidth = context.measureText('Click Here to Clear').width + 40; var mx, my; canvas.addEventListener('selectstart', function(e) { e.preventDefault(); return false; }, false); canvas.addEventListener('mousedown', function(e){ mx = e.clientX; my = e.clientY; if(my > HEIGHT - 40 && my < HEIGHT && mx > WIDTH - clearStringWidth && mx < WIDTH){ destroy(); } var en; for(var i = 0; i < entities.length; i++){ en = entities[i]; if(mx > en.x && mx < en.x + en.source.width && my > en.y && my < en.y + en.source.height){ document.getElementsByTagName('img')[entities[i].spot].style.display = entities[i].style; entities.splice(i, 1); if(entities.length == 0){ destroy(); } } } }, false); function draw(){ context.clearRect(0, 0, WIDTH, HEIGHT); context.fillStyle = '#000000';%20for(var%20i%20=%200;%20i%20%3C%20entities.length;%20i++){%20context.drawImage(entities[i].source,%20entities[i].x,%20entities[i].y);%20}%20context.fillText('Created%20by%20Connor%20Mahaffey',%205,%20HEIGHT%20-%2020);%20context.fillStyle%20=%20'red';%20context.fillText('Click%20Here%20To%20Clear',%20WIDTH%20-%20clearStringWidth,%20HEIGHT%20-%2020);%20}%20var%20logic%20=%20function(){%20var%20e;%20for(var%20i%20=%200;%20i%20%3C%20entities.length;%20i++){%20e%20=%20entities[i];%20e.x%20+=%20e.speedX;%20e.y%20+=%20e.speedY;%20if(e.x%20%3E%20WIDTH%20||%20e.x%20%3C%200){%20e.speedX%20*=%20-1;%20}%20if(e.y%20%3E%20HEIGHT%20||%20e.y%20%3C%200){%20e.speedY%20*=%20-1;%20}%20}%20if(entities.length%20!=%200){%20setTimeout(logic,%2060);%20}%20};%20drawTimerId%20=%20setInterval(draw,%2030);%20logicTimerId%20=%20setTimeout(logic,%2060);
